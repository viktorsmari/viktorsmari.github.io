<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <meta property="og:image" content="https://viktorsmari.github.io/assets/selfie_bike_bw.jpg"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails | Viktor Smári Ágústuson</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I use Ubuntu for developing Ruby on Rails apps, and usually use PostgreSQL for the database." />
<meta property="og:description" content="I use Ubuntu for developing Ruby on Rails apps, and usually use PostgreSQL for the database." />
<link rel="canonical" href="http://viktorsmari.github.io/2022/10/16/install-postgresql-for-ruby-on-rails.html" />
<meta property="og:url" content="http://viktorsmari.github.io/2022/10/16/install-postgresql-for-ruby-on-rails.html" />
<meta property="og:site_name" content="Viktor Smári Ágústuson" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-16T15:36:47+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-16T15:36:47+00:00","datePublished":"2022-10-16T15:36:47+00:00","description":"I use Ubuntu for developing Ruby on Rails apps, and usually use PostgreSQL for the database.","headline":"Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails","mainEntityOfPage":{"@type":"WebPage","@id":"http://viktorsmari.github.io/2022/10/16/install-postgresql-for-ruby-on-rails.html"},"url":"http://viktorsmari.github.io/2022/10/16/install-postgresql-for-ruby-on-rails.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

  <link rel="stylesheet" href="/assets/viktor.css">
  <link rel="stylesheet" href="/assets/syntax.css"><link type="application/atom+xml" rel="alternate" href="http://viktorsmari.github.io/feed.xml" title="Viktor Smári Ágústuson" /><!-- GA --><!-- GA Enabled --><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QX2216P06E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QX2216P06E');
</script>
</head>
<body><nav class="navbar navbar-expand-md sticky-top navbar-light bg-light border-bottom"><a class="navbar-brand" rel="author" href="/">
    Viktor Smári Ágústuson
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <form class="form-inline ml-auto">
      <div class="gcse-search"></div>
    </form>
    <ul class="navbar-nav">

      <li class="nav-item">
        <a class="nav-link d-flex mr-3" href="https://github.com/viktorsmari/viktorsmari.github.io/blob/master/_posts/2022-10-16-install-postgresql-for-ruby-on-rails.md" target="_blank">
            <img class="mx-1" src="/assets/github.svg" alt="GH logo" style="max-width:20px;"/>
            <span> GitHub </span>
        </a>
      </li>

      <li class="nav-item ">
        <a class="nav-link" href="/cv ">
          CV
        </a>
      </li>

      <li class="nav-item ">
        <a class="nav-link" href="/posts ">
          Posts
        </a>
      </li>

      <li class="nav-item ">
        <a class="nav-link" href="/causes ">
          Causes
        </a>
      </li>

      <li class="nav-item ">
        <a class="nav-link" href="/hobby ">
          Hobby
        </a>
      </li>

      <li class="nav-item ">
        <a class="nav-link" href="/music ">
          Music
        </a>
      </li>

    </ul>

  </div>
</nav>
<main class="container" aria-label="Content">
      <div class="row mt-5 post">

  <article class="col-lg-9" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="">
      <h1 class="" itemprop="name headline">Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails</h1>
      <p class="">
      <time class="" datetime="2022-10-16T15:36:47+00:00" itemprop="datePublished">Oct 16, 2022
      </time></p>
    </header>

    <div class="" itemprop="articleBody">
      <p>I use Ubuntu for developing Ruby on Rails apps, and usually use <strong>PostgreSQL</strong> for the database.</p>

<p>On <strong>Ubuntu 22</strong> this is how I install and setup PostgreSQL on a newly installed machine.</p>

<ol>
  <li>
    <p><strong>Install PostgreSQL</strong> on the machine, and the <code class="language-plaintext highlighter-rouge">psql</code> client:</p>

    <p><code class="language-plaintext highlighter-rouge">sudo apt-get install postgresql-14 postgresql-client</code></p>
  </li>
  <li>
    <p>Open the PostgreSQL shell as the <code class="language-plaintext highlighter-rouge">postgres</code> user:</p>

    <p><code class="language-plaintext highlighter-rouge">sudo -u postgres psql</code></p>
  </li>
  <li>
    <p>In the <code class="language-plaintext highlighter-rouge">psql</code> shell, create or alter a user with the rights to create databases. Make sure the username matches your Ubuntu username:</p>

    <p><code class="language-plaintext highlighter-rouge">create user viktor with superuser;</code></p>

    <p>OR if the <code class="language-plaintext highlighter-rouge">psql</code> already user exists:</p>

    <p><code class="language-plaintext highlighter-rouge">alter user viktor with superuser;</code></p>
  </li>
</ol>

<p>You can verify if your use has <strong>superuser</strong> privileges with this command:</p>

<p><code class="language-plaintext highlighter-rouge">\du</code></p>

<p>And then exit the <code class="language-plaintext highlighter-rouge">psql</code> shell by typing <code class="language-plaintext highlighter-rouge">exit</code> or CTRL+D</p>

<p>With these settings there should be no need to edit any PostgreSQL config files.</p>

<p>In a new Ruby on Rails project, you should be able to create databases for example using:</p>

<p><code class="language-plaintext highlighter-rouge">rails db:setup</code></p>

<p>The solution above <em>should</em> prevent errors like:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">PG:ConnectionBad:</code> connection to server on socket “/var/run/postgresql/.s.PGSQL.5432” failed: No such file or directory. Is the server running locally and accepting connections on that socket?</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveRecord::NoDatabaseError:</code> connection to server on socket “/var/run/postgresql/.s.PGSQL.5432” failed: FATAL: role does not exist</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveRecord::NoDatabaseError:</code> connection to server on socket “/var/run/postgresql/.s.PGSQL.5432” failed: FATAL: database does not exist</li>
</ul>

    </div><a class="" href="/2022/10/16/install-postgresql-for-ruby-on-rails.html" hidden></a>
  </article>

  <div class="col-lg-3 mx-auto">
    <h4 class="mt-5">Posts</h4>
    <ul>
      
      <li>
        <span class="post-meta">Aug 11, 2024</span>

        <a class="post-link" href="/2024/08/11/i3-window-manager-vs-slate.html">i3 Window Manager vs Sway</a>
        <i> - i3 window manager vs Sway...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Feb 11, 2023</span>

        <a class="post-link" href="/2023/02/11/repair-shop-software.html">I created software for Repair Shops</a>
        <i> - In 2017 I started working...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Oct 16, 2022</span>

        <a class="post-link" href="/2022/10/16/install-postgresql-for-ruby-on-rails.html">Installing PostgreSQL on Ubuntu 22 to use with Ruby on Rails</a>
        <i> - I use Ubuntu for developing...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">May 28, 2021</span>

        <a class="post-link" href="/2021/05/28/why-i-quit-facebook.html">Why I quit facebook</a>
        <i> - In August 2019 I deleted...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Jun 22, 2020</span>

        <a class="post-link" href="/2020/06/22/build-ardour6-on-ubuntu20.html">How to build Ardour 6 on Ubuntu 20</a>
        <i> - Build Ardour 6 on Ubuntu...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Mar 3, 2020</span>

        <a class="post-link" href="/2020/03/03/create-a-free-website-on-github.html">Creating a free website on GitHub pages</a>
        <i> - Creating a free website on...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Jul 14, 2019</span>

        <a class="post-link" href="/2019/07/14/github-pages-vs-wordpress.html">Wordpress vs Github Pages</a>
        <i> - Wordpress is a CMS (from...</i><br>

        <div class="post-categories">
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Jan 23, 2019</span>

        <a class="post-link" href="/linux/2019/01/23/travis-github-auto-deploy.html">Auto deploy commits from Travis to Github pages</a>
        <i> - Auto deploy from Travis to...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#linux">linux</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Oct 4, 2018</span>

        <a class="post-link" href="/barcelona/bicycling/2018/10/04/bicycling-in-barcelona.html">Bicycling in Barcelona</a>
        <i> - Barcelona has done a great...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#barcelona">barcelona</a>
          &nbsp;
          
          <a href="/categories/#bicycling">bicycling</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Aug 23, 2018</span>

        <a class="post-link" href="/linux/pdf/2018/08/23/annotate-pdf-linux.html">Adding signature to a PDF in Linux, Ubuntu</a>
        <i> - How to annotate a PDF...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#linux">linux</a>
          &nbsp;
          
          <a href="/categories/#pdf">pdf</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Dec 15, 2017</span>

        <a class="post-link" href="/zsh/terminal/2017/12/15/zsh-stats.html">My ZSH stats 2017</a>
        <i> - If you use Oh My...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#zsh">zsh</a>
          &nbsp;
          
          <a href="/categories/#terminal">terminal</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Oct 12, 2016</span>

        <a class="post-link" href="/zsh/terminal/2016/10/12/zsh-stats.html">My ZSH stats 2016</a>
        <i> - Oh My Zsh offers the...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#zsh">zsh</a>
          &nbsp;
          
          <a href="/categories/#terminal">terminal</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Oct 12, 2016</span>

        <a class="post-link" href="/raspberry/grafana/2016/10/12/monitoring.html">Raspberry Pi motion detection</a>
        <i> - I’m using a Raspberry Pi...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#raspberry">raspberry</a>
          &nbsp;
          
          <a href="/categories/#grafana">grafana</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Oct 12, 2016</span>

        <a class="post-link" href="/denmark/copenhagen/2016/10/12/apartment-price.html">Copenhagen housing prices</a>
        <i> - I had a hard time...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#Denmark">Denmark</a>
          &nbsp;
          
          <a href="/categories/#Copenhagen">Copenhagen</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Jun 6, 2016</span>

        <a class="post-link" href="/raspberry/iot/2016/06/06/grafana.html">Grafana running on Raspberry Pi 1</a>
        <i> - Grafana runs ok on a...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#Raspberry">Raspberry</a>
          &nbsp;
          
          <a href="/categories/#iot">iot</a>
          
          
        </div>
        <br>

      </li>
      
      <li>
        <span class="post-meta">Mar 15, 2016</span>

        <a class="post-link" href="/raspberry/munin/2016/03/15/munin.html">Raspberry Pi setup</a>
        <i> - I have a few Raspberry...</i><br>

        <div class="post-categories">
          
          
          <a href="/categories/#raspberry">raspberry</a>
          &nbsp;
          
          <a href="/categories/#munin">munin</a>
          
          
        </div>
        <br>

      </li>
      
    </ul>

  </div>

</div>

    </main><footer class="container-fluid border-top d-print-none">
  <div class="row">

    <div class="col-12 p-3">

      <ul class="list-unstyled">
        <li class="">Viktor Smári Ágústuson</li><li><a class="u-email" href="mailto:viktorsmari@gmail.com">viktorsmari@gmail.com</a></li></ul>

      <div class="social"><ul class="list-unstyled"><li><a href="https://github.com/viktorsmari"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">viktorsmari</span></a></li><li><a href="https://www.linkedin.com/in/viktorsmari"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">viktorsmari</span></a></li><li><a href="https://www.twitter.com/viktorsmar"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">viktorsmar</span></a></li><li><a href="https://youtube.com/viktorsmari"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg> <span class="username">viktorsmari</span></a></li><li><a href="https://repero.me" target="_blank" title="Software for repair shops">Repero.me</a></li>
</ul>
</div>

    </div>

  </div>
</footer>
<!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- Search -->
    <script src="https://unpkg.com/simple-jekyll-search@1.5.0/dest/simple-jekyll-search.min.js"></script>
    <script src="https://cdn.rawgit.com/christian-fei/Simple-Jekyll-Search/master/dest/simple-jekyll-search.min.js"></script>
    <script async src="https://cse.google.com/cse.js?cx=011461112018472943390:cdj0rjwsfbe"></script>

  </body>

  <script>
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '/search.json',
      searchResultTemplate: '<li><a href="http://viktorsmari.github.io{url}">{title}</a></li>'
    })
  </script>

</html>
